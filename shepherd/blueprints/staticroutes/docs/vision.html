<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vision | Robocon</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/docs/assets/css/0.styles.1f091d51.css" as="style"><link rel="preload" href="/docs/assets/js/app.37cd936b.js" as="script"><link rel="preload" href="/docs/assets/js/31.dc8e142c.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.e05adac6.js"><link rel="prefetch" href="/docs/assets/js/11.49e71667.js"><link rel="prefetch" href="/docs/assets/js/12.71f54526.js"><link rel="prefetch" href="/docs/assets/js/13.e030ff0f.js"><link rel="prefetch" href="/docs/assets/js/14.449eef23.js"><link rel="prefetch" href="/docs/assets/js/15.d44853d3.js"><link rel="prefetch" href="/docs/assets/js/16.576bf560.js"><link rel="prefetch" href="/docs/assets/js/17.1a5ddd5e.js"><link rel="prefetch" href="/docs/assets/js/18.83b0f17c.js"><link rel="prefetch" href="/docs/assets/js/19.31dffba4.js"><link rel="prefetch" href="/docs/assets/js/2.72abd14e.js"><link rel="prefetch" href="/docs/assets/js/20.9bf2d902.js"><link rel="prefetch" href="/docs/assets/js/21.8977ed98.js"><link rel="prefetch" href="/docs/assets/js/22.e6c4777e.js"><link rel="prefetch" href="/docs/assets/js/23.dbbf5384.js"><link rel="prefetch" href="/docs/assets/js/24.13351bc5.js"><link rel="prefetch" href="/docs/assets/js/25.5507b4d3.js"><link rel="prefetch" href="/docs/assets/js/26.7421ec58.js"><link rel="prefetch" href="/docs/assets/js/27.698f052b.js"><link rel="prefetch" href="/docs/assets/js/28.fd1d2e3b.js"><link rel="prefetch" href="/docs/assets/js/29.9c85b1d1.js"><link rel="prefetch" href="/docs/assets/js/3.0752a509.js"><link rel="prefetch" href="/docs/assets/js/30.c363e836.js"><link rel="prefetch" href="/docs/assets/js/32.0cbf1424.js"><link rel="prefetch" href="/docs/assets/js/33.a57bd20e.js"><link rel="prefetch" href="/docs/assets/js/4.9ce8dea0.js"><link rel="prefetch" href="/docs/assets/js/5.4ad49733.js"><link rel="prefetch" href="/docs/assets/js/6.c0b2eadd.js"><link rel="prefetch" href="/docs/assets/js/7.f1227372.js"><link rel="prefetch" href="/docs/assets/js/8.537c28cc.js"><link rel="prefetch" href="/docs/assets/js/9.6b854c57.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.1f091d51.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Robocon</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="http://robot.go" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Shepherd
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://robot.go/editor" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Editor
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="http://robot.go" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Shepherd
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://robot.go/editor" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Editor
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/" class="sidebar-link">Getting Started</a></li><li><a href="/docs/rules.html" class="sidebar-link">Rules</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Tools</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/connecting.html" class="sidebar-link">Connecting</a></li><li><a href="/docs/uploading.html" class="sidebar-link">Uploading and Running Code</a></li><li><a href="/docs/editor.html" class="sidebar-link">Using the Editor</a></li><li><a href="/docs/running-code-from-a-usb.html" class="sidebar-link">Running code from a USB</a></li><li><a href="/docs/troubleshooting.html" class="sidebar-link">Troubleshooting</a></li><li><a href="/docs/patching-the-robot.html" class="sidebar-link">Patching the Robot</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>Programming</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/learning-python.html" class="sidebar-link">Learning Python</a></li><li><a href="/docs/init-robot.html" class="sidebar-link">Initialising the Robot</a></li><li><a href="/docs/motors.html" class="sidebar-link">Motors</a></li><li><a href="/docs/servos.html" class="sidebar-link">Servos</a></li><li><a href="/docs/gpio.html" class="sidebar-link">GPIO</a></li><li><a href="/docs/vision.html" class="active sidebar-link">Vision</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/vision.html#python" class="sidebar-link">Python</a></li><li class="sidebar-sub-header"><a href="/docs/vision.html#blockly" class="sidebar-link">Blockly</a></li><li class="sidebar-sub-header"><a href="/docs/vision.html#changing-the-resolution" class="sidebar-link">Changing the resolution</a></li><li class="sidebar-sub-header"><a href="/docs/vision.html#definition-of-axes" class="sidebar-link">Definition of Axes</a></li><li class="sidebar-sub-header"><a href="/docs/vision.html#objects-of-the-vision-system" class="sidebar-link">Objects of the Vision System</a></li><li class="sidebar-sub-header"><a href="/docs/vision.html#using-usb-camera-s" class="sidebar-link">Using USB camera's</a></li></ul></li><li><a href="/docs/markers.html" class="sidebar-link">Markers</a></li><li><a href="/docs/zones.html" class="sidebar-link">Zones</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Hardware</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/batteries.html" class="sidebar-link">Batteries</a></li><li><a href="/docs/charging.html" class="sidebar-link">Charging</a></li><li><a href="/docs/the-brainbox.html" class="sidebar-link">The BrainBox</a></li><li><a href="/docs/kit-list-of-parts.html" class="sidebar-link">Kit List of Parts</a></li><li><a href="/docs/expanding-functionality.html" class="sidebar-link">Expanding Functionality</a></li><li><a href="/docs/minibot-assembly.html" class="sidebar-link">Minibot Assembly</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Tutorials</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/turning-everything-on.html" class="sidebar-link">Turning everything on</a></li><li><a href="/docs/hello-world.html" class="sidebar-link">Hello World</a></li><li><a href="/docs/hello-vision.html" class="sidebar-link">Hello Vision</a></li><li><a href="/docs/hello-motors.html" class="sidebar-link">Hello Motors</a></li><li><a href="/docs/hello-gpio.html" class="sidebar-link">Hello GPIO</a></li><li><a href="/docs/hello-servos.html" class="sidebar-link">Hello Servos</a></li><li><a href="/docs/hello-challenges.html" class="sidebar-link">Hello Challenges</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="vision"><a href="#vision" aria-hidden="true" class="header-anchor">#</a> Vision</h1> <p>Computer Vision allows your robots to understand their environment. For the competition, this is used to locate cubes and arena walls.</p> <p>When you tell you robot to <code>see</code>, it will give you a list of all the markers it can see. The objects it returns will give you information about the type of the marker, the distance/angle to the marker along with other assorted information.</p> <h2 id="python"><a href="#python" aria-hidden="true" class="header-anchor">#</a> Python</h2> <p>To look for markers call <code>see()</code>:</p> <div class="language-python extra-class"><pre class="language-python"><code>markers <span class="token operator">=</span> R<span class="token punctuation">.</span>see<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><code>markers</code> is now a Python list of <code>marker objects</code>. Each <code>marker</code> object contains the following properties.</p> <table><thead><tr><th>Property</th> <th>Description</th></tr></thead> <tbody><tr><td><code>marker.dist</code></td> <td>Distance to the marker in metres</td></tr> <tr><td><code>marker.rot_y</code></td> <td>Angle to the marker in degrees</td></tr> <tr><td><code>marker.info.code</code></td> <td>Numeric code of the marker</td></tr> <tr><td><code>marker.info.marker_type</code></td> <td>One of <code>MARKER_ARENA</code> or <code>MARKER_TOKEN</code></td></tr> <tr><td><code>marker.info.token_type</code></td> <td>One of <code>TOKEN_NONE</code>, <code>TOKEN_ORE</code>, <code>TOKEN_GOLD</code>, or <code>TOKEN_FOOLS_GOLD</code></td></tr></tbody></table> <h2 id="blockly"><a href="#blockly" aria-hidden="true" class="header-anchor">#</a> Blockly</h2> <p>Blocks for vision can be found in the <strong>Vision</strong> section.</p> <h2 id="changing-the-resolution"><a href="#changing-the-resolution" aria-hidden="true" class="header-anchor">#</a> Changing the resolution</h2> <p>The default the camera takes pictures at a resolution of <strong>640x480px</strong>. You can change this by specifying a <code>res</code> parameter to <code>R.see()</code>. This maybe be helpful when trying to see things far away.</p> <div class="language-python extra-class"><pre class="language-python"><code>markers <span class="token operator">=</span> R<span class="token punctuation">.</span>see<span class="token punctuation">(</span>res<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1920</span><span class="token punctuation">,</span> <span class="token number">1088</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>You must use one of the following resolutions:</p> <ul><li><code>(640, 480)</code> <em>(default)</em></li> <li><code>(1296, 736)</code></li> <li><code>(1296, 976)</code></li> <li><code>(1920, 1088)</code></li> <li><code>(1920, 1440)</code></li></ul> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>Using a higher resolution will increase the amount of time it takes to process the image.</p></div> <p>Here's a more complete example:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> robot

R <span class="token operator">=</span> robot<span class="token punctuation">.</span>Robot<span class="token punctuation">(</span><span class="token punctuation">)</span>

markers <span class="token operator">=</span> R<span class="token punctuation">.</span>see<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> marker <span class="token keyword">in</span> markers<span class="token punctuation">:</span>
   <span class="token keyword">if</span> marker<span class="token punctuation">.</span>info<span class="token punctuation">.</span>token_type <span class="token operator">==</span> robot<span class="token punctuation">.</span>TOKEN_GOLD<span class="token punctuation">:</span>
       move<span class="token punctuation">(</span>marker<span class="token punctuation">.</span>dist<span class="token punctuation">)</span>
</code></pre></div><h2 id="definition-of-axes"><a href="#definition-of-axes" aria-hidden="true" class="header-anchor">#</a> Definition of Axes</h2> <p>The vision system describes the markers it can see using three coordinate
systems. These are intended to be complementary to each other and contain
the same information in different forms.</p> <p>The individual coordinate systems used are detailed below on the
<code>Point</code> object, which represents a point in space.
Both it and the <code>Orientation</code> object provide further
details about what measurements of rotation or position mean for their
attributes.</p> <p>The axis definitions match those in common use, as follows:</p> <p><strong>x-axis</strong>
:   The horizontal axis running left-to-right in front of the camera.
Rotation about this axis is equivalent to leaning towards or away from
the camera.</p> <p><strong>y-axis</strong>
:   The vertical axis running top-to-bottom in front of the camera.
Rotation about this axis is equivalent to turning on the spot,
to the left or right.</p> <p><strong>z-axis</strong>
:   The axis leading away from the camera to infinity.
Rotation about this axis is equivalent to being rolled sideways.</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>Note that the axes are all defined relative to the camera. Since we have
no way to know how you've mounted your camera, you may need to account
for that in your usage of the vision system's data.</p></div> <h2 id="objects-of-the-vision-system"><a href="#objects-of-the-vision-system" aria-hidden="true" class="header-anchor">#</a> Objects of the Vision System</h2> <h3 id="marker"><a href="#marker" aria-hidden="true" class="header-anchor">#</a> <code>Marker</code></h3> <hr> <p>A <code>Marker</code> object contains information about a <em>detected</em> marker.
It has the following attributes:</p> <p><code>info</code>
:   A <code>MarkerInfo</code> object containing information about the type of marker that was detected.</p> <p><code>centre</code>
:   A <code>Point</code> describing the position of the centre of the marker.</p> <p><code>vertices</code>
:   A list of 4 <code>Point</code> instances, each representing the position of the black corners of the marker.</p> <p><code>dist</code>
:   An alias for <code>centre.polar.length</code></p> <p><code>rot_y</code>
:   An alias for <code>centre.polar.rot_y</code></p> <p><code>orientation</code>
:   An <code>Orientation</code> instance describing the orientation of the marker.</p> <p><code>res</code>
:   The resolution of the image that was taken from the webcam.
A 2-item tuple: (width, height).</p> <p><code>timestamp</code>
:   The timestamp at which the image was taken (a float).</p> <h3 id="markerinfo"><a href="#markerinfo" aria-hidden="true" class="header-anchor">#</a> <code>MarkerInfo</code></h3> <hr> <p>The <code>MarkerInfo</code> object contains information about a marker.
It has the following attributes:</p> <p><code>code</code>
:   The numeric code of the marker.</p> <p><code>marker_type</code>
:   The type of object that this marker represents.<br>
One of:</p> <ul><li><code>MARKER_ARENA</code></li> <li><code>MARKER_TOKEN</code></li></ul> <p><code>token_type</code>
:    The type of token the marker represents.<br>
One of:</p> <ul><li><code>TOKEN_NONE</code></li> <li><code>TOKEN_ORE</code></li> <li><code>TOKEN_GOLD</code></li> <li><code>TOKEN_FOOLS_GOLD</code></li></ul> <p><code>offset</code>
:   The offset of the numeric code of the marker from the lowest numbered marker of its type.</p> <p><code>size</code>
:   The size of the marker in metres.
This is the length of the side of the main black body of the marker.</p> <h3 id="point"><a href="#point" aria-hidden="true" class="header-anchor">#</a> <code>Point</code></h3> <hr> <p>A <code>Point</code> object describes a position in three different ways.
These are accessed through the following attributes:</p> <p><strong>image</strong>
:   The pixel coordinates of the point in the image, with the origin (0,0) in the top-left of the image.
This has two attributes: <code>x</code> and <code>y</code>.</p> <p><strong>world</strong>
:   The <a href="https://en.wikipedia.org/wiki/Cartesian_coordinate_system" target="_blank" rel="noopener noreferrer">Cartesian coordinates<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> of the point in 3D space.
This has three attributes: <code>x</code>, <code>y</code>, and <code>z</code>, each of which specifies a distance in metres.
Positions in front of, to the right, or above the camera are positive.
Positions to the left or below are negative.</p> <p><strong>polar</strong>
:   The <a href="https://en.wikipedia.org/wiki/Polar_coordinate_system" target="_blank" rel="noopener noreferrer">polar coordinates<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> of the point in 3D space.<br>
This has three attributes:</p> <p><code>length</code>
:   The distance to the point.</p> <p><code>rot_x</code>
:   Rotation about the x-axis in degrees.
Positions above the camera are positive.</p> <p><code>rot_y</code>
:   Rotation about the y-axis in degrees.
Positions to the right of the camera are positive.</p> <p>For example, the following code displays the polar coordinate of a <code>Point</code> object</p> <div class="language-python extra-class"><pre class="language-python"><code>
    <span class="token keyword">print</span> <span class="token string">&quot;length&quot;</span><span class="token punctuation">,</span> p<span class="token punctuation">.</span>polar<span class="token punctuation">.</span>length
    <span class="token keyword">print</span> <span class="token string">&quot;rot_x&quot;</span><span class="token punctuation">,</span> p<span class="token punctuation">.</span>polar<span class="token punctuation">.</span>rot_x
    <span class="token keyword">print</span> <span class="token string">&quot;rot_y&quot;</span><span class="token punctuation">,</span> p<span class="token punctuation">.</span>polar<span class="token punctuation">.</span>rot_y

</code></pre></div><h3 id="orientation"><a href="#orientation" aria-hidden="true" class="header-anchor">#</a> <code>Orientation</code></h3> <hr> <p>An <code>Orientation</code> object describes the orientation of a marker.  It has three attributes:</p> <p><code>rot_x</code>
:   Rotation of the marker about the x-axis.</p> <p>Leaning a marker away from the camera increases the value of <code>rot_x</code>, while
leaning it towards the camera decreases it. A value of 0 indicates that the
marker is upright.</p> <p><code>rot_y</code>
:   Rotation of the marker about the y-axis.</p> <p>Turning a marker clockwise (as viewed from above) increases the value of
<code>rot_y</code>, while turning it anticlockwise decreases it. A value of 0 means
that the marker is perpendicular to the line of sight of the camera.</p> <p><code>rot_z</code>
:   Rotation of the marker about the z-axis.</p> <p>Turning a marker anticlockwise (as viewed from the camera) increases the
value of <code>rot_z</code>, while turning it clockwise decreases it. A value of 0
indicates that the marker is upright.</p> <h2 id="using-usb-camera-s"><a href="#using-usb-camera-s" aria-hidden="true" class="header-anchor">#</a> Using USB camera's</h2> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>Your robots ability to see is very much dependant on the camera you use. We strongly recomend testing your webcams accuracy and maxium distance against that of the Pi cam in the Brain Box.</p> <p>Cheap webcameras do tend to hurt how well your robot can see.</p></div> <p>To use a USB camera you will need to initialize the robot object with the <code>use_usb_camera</code> parameter. Then just call <code>R.see()</code> as you would normally.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> robot

R <span class="token operator">=</span> robot<span class="token punctuation">.</span>Robot<span class="token punctuation">(</span>use_usb_camera<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span> 

<span class="token keyword">print</span> R<span class="token punctuation">.</span>see<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>You will then need to calibrate your camera as the distance that it reports will not be accurate. You can do this by changing the value in the <code>usbcamera_focal_lengths</code> dictionary up or down.</p> <p>To get the current value print it:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> robot<span class="token punctuation">.</span>vision <span class="token keyword">as</span> vision

<span class="token keyword">print</span> vision<span class="token punctuation">.</span>usbcamera_focal_lengths
</code></pre></div><p>Assign a new value and print the distance and rotation use the following code.</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># usbcamera_focal_lengths[(resx, resy)] = (newValue,newValue) </span>
<span class="token comment"># Where (resx, resy) is the resolution that you want to tune</span>
<span class="token comment"># To set the resolution (640, 480) to the focal length (100,100) do</span>

<span class="token keyword">import</span> robot<span class="token punctuation">.</span>vision <span class="token keyword">as</span> vision

vision<span class="token punctuation">.</span>usbcamera_focal_lengths<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

R <span class="token operator">=</span> robot<span class="token punctuation">.</span>Robot<span class="token punctuation">(</span>use_usb_camera<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    markers <span class="token operator">=</span> R<span class="token punctuation">.</span>see<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> marker <span class="token keyword">in</span> markers<span class="token punctuation">:</span>
        dist <span class="token operator">=</span> marker<span class="token punctuation">.</span>dist
        rot_y <span class="token operator">=</span> marker<span class="token punctuation">.</span>rot_y
        <span class="token keyword">print</span> <span class="token string">&quot;dist:&quot;</span><span class="token punctuation">,</span> dist<span class="token punctuation">,</span> <span class="token string">&quot;rot_y:&quot;</span><span class="token punctuation">,</span> rot_y

</code></pre></div><p>We recommend that you tune this value by placing a marker exactly 2m away, printing <code>R.see()</code> (remember to take an average), and tuning the focal length up or down until you get a value that is close to 2m. If you are feeling fancy you could even write a function to automatically tune the value.</p> <p>The default resolutions are as follows.</p> <div class="language-python extra-class"><pre class="language-python"><code>usbcamera_focal_lengths <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token number">1920</span><span class="token punctuation">,</span> <span class="token number">1440</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">1393</span><span class="token punctuation">,</span> <span class="token number">1395</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token number">1920</span><span class="token punctuation">,</span> <span class="token number">1088</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">2431</span><span class="token punctuation">,</span> <span class="token number">2431</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token number">1296</span><span class="token punctuation">,</span> <span class="token number">976</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">955</span><span class="token punctuation">,</span> <span class="token number">955</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token number">1296</span><span class="token punctuation">,</span> <span class="token number">736</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">962</span><span class="token punctuation">,</span> <span class="token number">962</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">463</span><span class="token punctuation">,</span> <span class="token number">463</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/gpio.html" class="prev">
          GPIO
        </a></span> <span class="next"><a href="/docs/markers.html">
          Markers
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/docs/assets/js/app.37cd936b.js" defer></script><script src="/docs/assets/js/31.dc8e142c.js" defer></script>
  </body>
</html>
